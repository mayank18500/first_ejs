<%- include('../partials/navbar') %>

<div class="container mx-auto my-10">
  
  <% if (error_msg && error_msg.length > 0) { %>
    <div class="flash-error flash-message"><%= error_msg %></div>
  <% } %>
  
  <div class="flex flex-col md:flex-row gap-10 bg-white p-8 rounded-xl shadow-xl">
    <div class="w-full md:w-1/2">
      <img src="<%= product.image || '/images/default.png' %>" 
           class="w-full h-96 object-cover rounded-lg shadow-md" 
           alt="<%= product.name %>">
    </div>
    
    <div class="w-full md:w-1/2 flex flex-col">
      <h1 class="text-4xl font-extrabold mb-2 text-gray-900"><%= product.name %></h1>
      
      <span class="text-4xl price-display font-bold mb-6 text-green-600">$<%= product.price.toFixed(2) %></span>
      
      <p class="text-lg text-gray-700 mb-8 leading-relaxed"><%= product.description %></p>

      <form action="/cart/add/<%= product.product_id %>" method="POST" class="flex items-center space-x-4 mt-auto">
        <label for="quantity" class="font-semibold text-gray-700">Quantity:</label>
        <input type="number" name="quantity" id="quantity" value="1" min="1" 
               class="border border-gray-300 p-2 w-20 rounded text-center" required>
               
        <button type="submit" class="btn-primary btn flex items-center space-x-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path d="M3 1a1 1 0 000 2h1.22l.305 1.25H16.74a1 1 0 00.958-.795l.421-2A1 1 0 0017 2H3zM4.332 7l1.378 5.49 5.852.007 1.35-5.491H4.332zM7 17a1 1 0 100-2 1 1 0 000 2zm10 0a1 1 0 100-2 1 1 0 000 2z" />
            </svg>
            <span>Add to Cart</span>
        </button>
      </form>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>